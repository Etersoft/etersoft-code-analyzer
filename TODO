Нужно научить компилятор или Makefile собирать с полными путями, чтобы потом не разыскивать файлы, может быть много повторов.
И возможно, что нормализация не нужна, а надо искать каждый файл, раз может быть много вхождений.
